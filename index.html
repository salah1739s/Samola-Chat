<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Bot</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="chat-container">
        <h1>Chat Bot</h1>
        <div id="chat">
            <div class="message bot-message">Hello! How can I assist you today?</div>
        </div>
        <div id="input-area">
            <input type="text" id="messageInput" placeholder="Type your message here...">
            <button id="sendButton">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <script>
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø®Ø§ØµØ©
        function removeSpecialCharacters(input) {
            return input.replace(/[!@#$%^&*()_~\[\]{}|;:,.<>?]/g, '');
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            let userMessage = messageInput.value.trim();

            if (userMessage) {
                userMessage = removeSpecialCharacters(userMessage); // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø®Ø§ØµØ©

                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù„ØºØ© ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
                if (containsArabic(userMessage) && !isCurrentPage("index-ar.html")) {
                    redirectToPage("index-ar.html"); // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                    return;
                } else if (containsEnglish(userMessage) && !isCurrentPage("index.html")) {
                    redirectToPage("index.html"); // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
                    return;
                }

                // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ù„Ø±Ø¯
                displayUserMessage(userMessage);
                const botResponse = getBotResponse(userMessage);

                // ØªØ£Ø®ÙŠØ± Ø§Ù„Ø±Ø¯
                setTimeout(() => {
                    displayBotResponse(botResponse);
                }, 2000);
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠØ©
        function containsArabic(text) {
            const arabicRegex = /[\u0600-\u06FF]/;
            return arabicRegex.test(text);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
        function containsEnglish(text) {
            const englishRegex = /[a-zA-Z]/;
            return englishRegex.test(text);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        function isCurrentPage(page) {
            return window.location.pathname.includes(page);
        }

        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ù…Ø¹ÙŠÙ†Ø©
        function redirectToPage(page) {
            window.location.href = page;
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function displayUserMessage(message) {
            const chat = document.getElementById('chat');
            chat.innerHTML += `<div class="message user-message">${message}</div>`;
            document.getElementById('messageInput').value = ''; // ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚Ù„
            chat.scrollTop = chat.scrollHeight; // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„
        }

        // Ø¹Ø±Ø¶ Ø±Ø¯ Ø§Ù„Ø±ÙˆØ¨ÙˆØª
        function displayBotResponse(response) {
            const chat = document.getElementById('chat');
            chat.innerHTML += `<div class="message bot-message">${response}</div>`;
            chat.scrollTop = chat.scrollHeight;
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø¯ Ø§Ù„Ø±ÙˆØ¨ÙˆØª
        function getBotResponse(userMessage) {
            if (userMessage.startsWith("Ø§Ø³Ù…ÙŠ Ù‡Ùˆ")) {
                const userName = userMessage.substring(7).trim();
                if (userName) {
                    return `Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒØŒ ${userName}! ğŸ˜Š ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ`;
                } else {
                    return "ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ùƒ Ù„Ù… ØªØ°ÙƒØ± Ø§Ø³Ù…Ùƒ. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŸ";
                }
            }

            // Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            const responses = {
                "hi": "Ù…Ø±Ø­Ø¨Ù‹Ø§! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ",
                "hello": "Ø¨Ø§Ù„Ø·Ø¨Ø¹! Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ.",
                "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…": "ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù…! ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
                "Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©": "Ù‡Ø°Ø§ Ø±ÙˆØ¨ÙˆØª Ø¯Ø±Ø¯Ø´Ø©! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ"
            };

            return responses[userMessage.toLowerCase()] || "Ø¹Ø°Ø±Ù‹Ø§ØŒ Ù„Ù… Ø£ÙÙ‡Ù… Ø°Ù„Ùƒ. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ¶ÙŠØ­ØŸ";
        }

        // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        document.getElementById('sendButton').onclick = sendMessage;

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± Enter
        document.getElementById('messageInput').addEventListener('keydown', (event) => {
            if (event.key === "Enter") {
                sendMessage();
            }
        });
    </script>
</body>
</html>